{"version":3,"sources":["global.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"global.js","sourcesContent":["var processing_modal = jQuery('#processing-modal')\n\njQuery.ajaxSetup({\n\tbeforeSend: function(jqXHR, settings) {\n\t\tjQuery('.has-error').removeClass('has-error').find('.help-block').text('').addClass('hide')\n\n\t\tif (isNumber(window.ajax_counter) == false)\n\t\t\twindow.ajax_counter = 0;\n\t\t\n\t\tif (window.ajax_counter == 0)\n\t\t\tprocessing_modal.modal('show');\n\t\t\n\t\twindow.ajax_counter++;\n\t\t\n\t\tif (window.ajax_counter > 1) {\n\t\t\tvar pb = processing_modal.find('.progress').show();\n\t\t\t\n\t\t\tif (window.ajax_counter == 2)\n\t\t\t\tpb.find('.progress-bar').css('width', '0');\n\t\t}\n\t},\n\tcomplete: function(response) {\n\t\tif (isNumber(window.ajax_max) == false)\n\t\t\twindow.ajax_max = 0;\n\t\t\n\t\tif (window.ajax_counter > window.ajax_max)\n\t\t\twindow.ajax_max = window.ajax_counter;\n\t\t\n\t\twindow.ajax_counter--;\n\t\t\n\t\tvar progress = 100 - (100 / window.ajax_max) * window.ajax_counter;\n\t\t\n\t\tprocessing_modal.find('.progress').show().find('.progress-bar').css('width', progress + '%');\n\t\t\n\t\tif (window.ajax_counter == 0) {\n\t\t\tprocessing_modal.modal('hide');\n\t\t\tprocessing_modal.find('.progress').hide().find('.progress-bar').css('width', '0');\n\t\t\t\n\t\t\twindow.ajax_max = 0;\n\t\t}\n\t},\n\terror: function(xmlHttpRequest, textStatus, errorThrown) {\n\t\tif (xmlHttpRequest.status == 422) {\n\t\t\tjQuery.each(xmlHttpRequest.responseJSON, function(key, text) {\n\t\t\t\tvar element = jQuery('[name=\"' + key + '\"]')\n\n\t\t\t\t// In case of array\n\t\t\t\tif (element.length == 0)\n\t\t\t\t\telement = jQuery('[name=\"' + key + '[]\"]')\n\n\t\t\t\t// In case of custom arrays\n\t\t\t\tif (element.length == 0 && key.indexOf('.') > -1) {\n\t\t\t\t\tvar last_item = key.split(/[. ]+/).pop()\n\t\t\t\t\t\n\t\t\t\t\telement = jQuery('[name=\"' + last_item + '\"]')\n\t\t\t\t}\n\n\t\t\t\tif (element.length == 0)\n\t\t\t\t\treturn\n\n\t\t\t\telement.closest('.form-group').addClass('has-error')\n\t\t\t\telement.parent().find('.help-block').text(text).removeClass('hide')\n\t\t\t})\n\t\t} else {\t\t\n\t\t\tprocessing_modal.modal('hide');\n\n\t\t\tif (xmlHttpRequest.hasOwnProperty('responseJSON'))\n\t\t\t\tconsole.log(xmlHttpRequest.responseJSON.message)\n\t\t\telse\n\t\t\t\talert('A critical error has occured. Please reload the page and try again.')\n\t\t}\n\t},\n\tcache: false,\n\tdataType: 'JSON',\n\theaders: {'X-CSRF-Token': jQuery('meta[name=\"csrf-token\"]').attr('content')}\n})\n\nfunction isNumber(number) {\n\treturn !isNaN(parseFloat(number)) && isFinite(number)\n}\n\nfunction s4() {\n\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n\nfunction guid() {\n\treturn s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}"]}